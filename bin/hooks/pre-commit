#!/bin/sh

# Get the list of changed files
changed_files=$(git status --porcelain | awk '{print $2}')

# Run RuboCop on the changed files
rubocop -A $changed_files

# Check the exit status of RuboCop
if [ $? -ne 0 ]; then
  echo "RuboCop found some errors. Please fix them before committing."
  exit 1
fi

echo "RuboCop passed. Committing."
